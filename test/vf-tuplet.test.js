import { expect, fixture, html } from '@open-wc/testing';

import '../src/index';

describe('vf-tuplet', () => {
  it('Simple tuplet, no beams', async() => {
    const el = await fixture(html`
      <vf-score>
        <vf-system>
          <vf-stave clef='treble' timeSig='3/4'>
            <vf-voice>
              <vf-tuplet stem='up'>G4/q, A4, B4</vf-tuplet>
              <vf-tuplet stem='up'>B4/8, A4, G4</vf-tuplet>
            </vf-voice>
          </vf-stave>
        </vf-system>
      </vf-score>
    `);

    const expected = '<div id="vf-score"><slot></slot><svg width="500" height="130" viewBox="0 0 500 130" style="width: 500px; height: 130px;"><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 40L499 40"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 50L499 50"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 60L499 60"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 70L499 70"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 80L499 80"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M15 71M28.280256 80.199872C29.116608 80.199872,30.079680000000003 80.12384,30.814656 79.971776C31.194816000000003 79.89574400000001,31.270848 79.8704,31.346880000000002 80.301248C31.777728 82.759616,32.335296 85.927616,32.335296 87.651008C32.335296 93.04928000000001,28.685760000000002 93.708224,26.53152 93.708224C24.554688 93.708224,23.61696 93.12531200000001,23.61696 92.643776C23.61696 92.390336,23.946432 92.28896,24.782784 92.010176C25.923264000000003 91.680704,27.215808000000003 90.71763200000001,27.215808000000003 88.588736C27.215808000000003 86.58656,25.948608 84.863168,23.718336 84.863168C21.285312 84.863168,19.81536 86.814656,19.81536 89.070272C19.81536 91.42726400000001,21.234624 95.026112,26.759616 95.026112C29.19264 95.026112,33.931968 93.910976,33.931968 87.72704C33.931968 85.62348800000001,33.27302400000001 82.176704,32.892864 79.89574400000001C32.816832000000005 79.464896,32.842176 79.515584,33.349056000000004 79.287488C37.04928 77.817536,39.482304 74.725568,39.482304 70.594496C39.482304 65.9312,36.060864 61.800128,30.687936 61.800128C29.750208 61.800128,29.750208 61.800128,29.623488000000002 61.141183999999996L28.711104 55.844288C28.660416 55.41344,28.711104 55.388096,28.9392 55.16C32.892864 51.485119999999995,35.883456 46.847167999999996,35.883456 41.246144C35.883456 38.078143999999995,34.996415999999996 34.935488,33.50112 32.755903999999994C32.943552 31.944896,32.005824000000004 30.931135999999995,31.60032 30.931135999999995C31.09344 30.931135999999995,29.95296 31.868863999999995,29.243328 32.679871999999996C26.53152 35.670463999999996,25.64448 40.232383999999996,25.64448 44.033984C25.64448 46.137536,25.923264000000003 48.519872,26.176704 50.015168C26.252736 50.446016,26.278080000000003 50.522048,25.847231999999998 50.902208C20.57568 55.236031999999994,15 60.456896,15 67.832C15 74.168,19.333824 80.199872,28.280256 80.199872M17.91456 70.265024C17.91456 68.110784,18.29472 65.221568,21.310656 61.800128C23.515584 59.367104,25.188288 57.998528,26.886336 56.629952C27.266496 56.325824,27.342528 56.376512,27.41856 56.756671999999995L28.17888 61.445312C28.280256 62.129599999999996,28.280256 62.104256,27.621312000000003 62.307007999999996C24.427968 63.3968,22.324416 66.286016,22.324416 69.403328C22.324416 72.672704,24.047808 75.004352,26.53152 75.866048C26.835648 75.967424,27.266496 76.0688,27.519936 76.0688C27.798720000000003 76.0688,27.950784 75.891392,27.950784 75.663296C27.950784 75.409856,27.672 75.30848,27.41856 75.207104C25.872576000000002 74.54816,24.782784 72.976832,24.782784 71.304128C24.782784 69.200576,26.202048 67.654592,28.43232 67.020992C29.015232 66.868928,29.091264000000002 66.919616,29.167296 67.32512L30.992064 78.19769600000001C31.068096 78.6032,31.017408 78.6032,30.485184000000004 78.704576C29.902272000000004 78.805952,29.167296 78.881984,28.43232 78.881984C22.045632 78.881984,17.91456 75.33382399999999,17.91456 70.265024M32.157888 36.582848C33.349056000000004 36.582848,34.337472000000005 37.571264,34.337472000000005 39.57344C34.337472000000005 43.628479999999996,30.865344 46.923199999999994,28.001472 49.432255999999995C27.748032000000002 49.660352,27.595968 49.609663999999995,27.519936 49.128128C27.367872 48.1904,27.29184 46.948544,27.29184 45.78272C27.29184 40.08032,29.927616 36.582848,32.157888 36.582848M31.09344 66.742208C34.058688000000004 66.995648,36.49171200000001 69.47936,36.49171200000001 72.672704C36.49171200000001 74.979008,35.097792 76.82912,33.070272 77.868224C32.639424000000005 78.070976,32.563392 78.070976,32.48736 77.640128L30.687936 67.249088C30.611904000000003 66.792896,30.662592000000004 66.69152,31.09344 66.742208"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56.86904 50M57.578959999999995 54.96944C57.6524 57.7112,60.14936 58.78832,63.60104 58.83728L63.91928 58.83728C67.41991999999999 58.83728,70.994 57.05024,70.994 53.94128L70.994 53.69648C70.94503999999999 52.66832,70.67576 52.00736,70.0148 51.224C69.79448 50.95472,69.5252 50.70992,69.18248 50.4896L68.4236 50.07344L67.27304 49.7552C67.10168 49.70624,66.97928 49.70624,66.90584 49.58384C66.88136 49.5104,66.88136 49.46144,66.88136 49.41248C66.88136 49.2656,66.90584 49.11872,67.02824 49.09424C67.41991999999999 48.97184,67.78712 48.94736,68.10535999999999 48.776C69.5252 48.09056,70.25959999999999 47.1848,70.25959999999999 45.56912C70.25959999999999 42.31328,65.8532 41.35856,64.3844 41.26064C64.21303999999999 41.26064,64.0172 41.21168,63.845839999999995 41.21168C60.81032 41.21168,57.7748 43.243520000000004,57.7748 45.104C57.7748 46.25456,58.46024 47.82128,60.63896 47.94368L60.81032 47.94368C62.37704 47.94368,63.13592 46.8176,63.13592 45.66704L63.13592 45.37328C63.038 44.07584,62.15672 44.0024,61.98536 43.928960000000004C61.814 43.85552,61.275439999999996 43.928960000000004,61.275439999999996 43.43936L61.275439999999996 43.29248C61.348879999999994 42.70496,62.45048 42.4112,62.74424 42.4112C65.75528 42.4112,66.02456 44.29616,66.02456 45.12848L66.02456 45.37328C66.02456 47.99264,63.94376 49.0208,61.740559999999995 49.11872C61.37336 49.1432,60.883759999999995 49.33904,60.883759999999995 49.70624C60.883759999999995 50.14688,61.49576 50.14688,61.76504 50.14688C65.82872 50.14688,66.14695999999999 52.88864,66.14695999999999 53.35376C66.14695999999999 57.07472,64.23752 57.51536,63.45416 57.51536C63.331759999999996 57.51536,63.18488 57.4664,63.13592 57.4664C62.86664 57.441919999999996,62.1812 57.441919999999996,62.15672 56.90336L62.15672 56.732C62.15672 55.94864,62.940079999999995 55.43456,62.96456 54.4064C62.96456 52.9376,61.9364 51.86048,60.418639999999996 51.86048C60.29624 51.86048,60.17384 51.86048,60.05144 51.90944C59.43944 52.00736,58.778479999999995 52.35008,58.33784 52.8152C57.750319999999995 53.35376,57.578959999999995 54.18608,57.578959999999995 54.96944"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56 70M57.41984 73.94128L63.956 73.94128L63.956 76.16896C63.956 77.12368,63.19712 77.39296,62.56064 77.39296C61.9976 77.39296,61.7528 77.7112,61.7528 78.0784C61.7528 78.42112,61.8752 78.8128,62.413759999999996 78.8128L69.92912 78.8128C70.27184 78.8128,70.63904 78.568,70.63904 78.0784C70.63904 77.58879999999999,70.19839999999999 77.36848,69.85568 77.36848C69.51295999999999 77.36848,68.75408 77.14816,68.75408 76.02208L68.75408 73.94128L71.32448 73.94128C71.69167999999999 73.94128,71.86304 73.69648,71.86304 73.28032C71.86304 72.86416,71.71616 72.61936,71.32448 72.61936L68.75408 72.61936L68.75408 65.05504C68.75408 64.78576,68.7296 64.46752000000001,68.33792 64.46752000000001C68.01968 64.46752000000001,67.84832 64.54096,67.628 64.78576L64.27423999999999 68.82496C64.15183999999999 69.0208,63.956 69.21664,63.956 69.65728L63.956 72.61936L59.20688 72.61936C62.02208 70.22032,67.67696 62.215360000000004,67.77488 61.82368C67.77488 61.75024,67.79936 61.72576,67.79936 61.65232C67.79936 61.35856,67.55456 61.16272,67.28528 61.16272C66.96704 61.16272,65.52271999999999 61.21168,64.88624 61.21168C64.24976 61.21168,62.65856 61.16272,62.38928 61.16272C62.071039999999996 61.16272,61.58144 61.26064,61.58144 61.82368C61.58144 66.18112,58.10528 71.1016,57.05264 72.5704L56.8568 72.86416C56.8568 72.88864,56.80784 72.9376,56.80784 72.96208C56.7344 73.10896,56.70992 73.23136,56.70992 73.35376C56.70992 73.69648,56.9792 73.94128,57.41984 73.94128"></path><g class="vf-stavenote" id="vf-auto1585"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M94.33712 70L94.33712 35"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M83.15312 70M83.15312 71.6848C83.15312 73.7908,84.89408 75.0544,87.08432 75.0544C90.67856 75.0544,95.08712 71.74096,95.08712 68.3152C95.08712 66.23728,93.45848000000001 64.9456,91.15592000000001 64.9456C86.71928 64.9456,83.15312 68.23096,83.15312 71.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1593"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M176.02571845954267 65L176.02571845954267 30"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M164.84171845954268 65M164.84171845954268 66.6848C164.84171845954268 68.7908,166.58267845954268 70.0544,168.77291845954267 70.0544C172.36715845954268 70.0544,176.77571845954267 66.74096,176.77571845954267 63.3152C176.77571845954267 61.23728,175.14707845954268 59.9456,172.84451845954268 59.9456C168.40787845954267 59.9456,164.84171845954268 63.23096,164.84171845954268 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1601"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M257.7143169190854 60L257.7143169190854 25"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M246.53031691908535 60M246.53031691908535 61.6848C246.53031691908535 63.7908,248.27127691908535 65.0544,250.46151691908534 65.0544C254.05575691908535 65.0544,258.4643169190854 61.74096,258.4643169190854 58.3152C258.4643169190854 56.23728,256.83567691908536 54.9456,254.53311691908536 54.9456C250.09647691908535 54.9456,246.53031691908535 58.23096,246.53031691908535 61.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1612"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M339.40291537862805 60L339.40291537862805 25"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M328.218915378628 60M328.218915378628 61.6848C328.218915378628 63.7908,329.959875378628 65.0544,332.150115378628 65.0544C335.74435537862803 65.0544,340.15291537862805 61.74096,340.15291537862805 58.3152C340.15291537862805 56.23728,338.52427537862803 54.9456,336.221715378628 54.9456C331.78507537862805 54.9456,328.218915378628 58.23096,328.218915378628 61.6848"></path></g><g class="vf-flag" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M338.65291537862805 23M346.62763537862804 42.31904C347.21731537862803 43.69496,347.58235537862805 45.99752,347.58235537862805 48.38432C347.58235537862805 50.20952,347.30155537862805 52.11896,346.62763537862804 53.94416C346.5433953786281 54.168800000000005,346.48723537862804 54.36536,346.48723537862804 54.53384C346.48723537862804 55.17968,346.90843537862804 55.54472,347.13307537862806 55.7132C347.3857953786281 55.88168,348.0877953786281 55.62896,348.28435537862805 54.95504C348.28435537862805 54.95504,349.3233153786281 51.10808,349.3233153786281 47.93504C349.3233153786281 42.88064,347.21731537862803 38.13512,344.69011537862804 34.0916C342.61219537862803 30.89048,340.92739537862803 27.40856,340.28155537862807 23.53352C340.14115537862807 22.88768,339.832275378628 22.63496,339.04603537862806 22.63496C338.82139537862804 22.63496,338.65291537862805 22.74728,338.65291537862805 23.25272L338.65291537862805 32.91224C341.32051537862804 33.3896,345.16747537862807 38.893280000000004,346.62763537862804 42.31904"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1622"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M388.373943585752 65L388.373943585752 30"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M377.18994358575196 65M377.18994358575196 66.6848C377.18994358575196 68.7908,378.93090358575193 70.0544,381.12114358575195 70.0544C384.71538358575197 70.0544,389.123943585752 66.74096,389.123943585752 63.3152C389.123943585752 61.23728,387.49530358575197 59.9456,385.19274358575194 59.9456C380.756103585752 59.9456,377.18994358575196 63.23096,377.18994358575196 66.6848"></path></g><g class="vf-flag" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M387.623943585752 28M395.598663585752 47.31904C396.18834358575197 48.69496,396.553383585752 50.99752,396.553383585752 53.38432C396.553383585752 55.20952,396.272583585752 57.11896,395.598663585752 58.94416C395.514423585752 59.168800000000005,395.458263585752 59.36536,395.458263585752 59.53384C395.458263585752 60.17968,395.879463585752 60.54472,396.104103585752 60.7132C396.356823585752 60.88168,397.058823585752 60.62896,397.255383585752 59.95504C397.255383585752 59.95504,398.294343585752 56.10808,398.294343585752 52.93504C398.294343585752 47.88064,396.18834358575197 43.13512,393.661143585752 39.0916C391.58322358575197 35.89048,389.89842358575197 32.40856,389.252583585752 28.53352C389.112183585752 27.88768,388.80330358575196 27.63496,388.017063585752 27.63496C387.792423585752 27.63496,387.623943585752 27.74728,387.623943585752 28.25272L387.623943585752 37.91224C390.291543585752 38.3896,394.138503585752 43.893280000000004,395.598663585752 47.31904"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1632"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M437.3449717928759 70L437.3449717928759 35"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M426.1609717928759 70M426.1609717928759 71.6848C426.1609717928759 73.7908,427.90193179287587 75.0544,430.0921717928759 75.0544C433.6864117928759 75.0544,438.0949717928759 71.74096,438.0949717928759 68.3152C438.0949717928759 66.23728,436.4663317928759 64.9456,434.1637717928759 64.9456C429.7271317928759 64.9456,426.1609717928759 68.23096,426.1609717928759 71.6848"></path></g><g class="vf-flag" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M436.5949717928759 33M444.5696917928759 52.31904C445.1593717928759 53.69496,445.5244117928759 55.99752,445.5244117928759 58.38432C445.5244117928759 60.20952,445.2436117928759 62.11896,444.5696917928759 63.94416C444.48545179287595 64.1688,444.4292917928759 64.36536000000001,444.4292917928759 64.53384C444.4292917928759 65.17967999999999,444.8504917928759 65.54472,445.07513179287594 65.7132C445.32785179287595 65.88168,446.02985179287595 65.62896,446.2264117928759 64.95504C446.2264117928759 64.95504,447.26537179287595 61.10808,447.26537179287595 57.93504C447.26537179287595 52.88064,445.1593717928759 48.13512,442.6321717928759 44.0916C440.5542517928759 40.89048,438.8694517928759 37.40856,438.22361179287594 33.53352C438.08321179287594 32.88768,437.7743317928759 32.63496,436.98809179287593 32.63496C436.7634517928759 32.63496,436.5949717928759 32.74728,436.5949717928759 33.25272L436.5949717928759 42.91224C439.2625717928759 43.3896,443.10953179287594 48.893280000000004,444.5696917928759 52.31904"></path></g></g><g class="vf-modifiers"></g></g><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="78.15312" y="15" width="83.31543845954269" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="180.1488784595427" y="15" width="83.31543845954269" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="78.15312" y="15" width="1" height="10"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="263.4643169190854" y="15" width="1" height="10"></rect><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M166.4685584595427 14.333333333333332M166.9279184595427 17.548853333333334C166.9754384595427 19.32293333333333,168.59111845954268 20.019893333333332,170.8245584595427 20.05157333333333L171.03047845954268 20.05157333333333C173.2955984595427 20.05157333333333,175.6082384595427 18.895253333333333,175.6082384595427 16.88357333333333L175.6082384595427 16.72517333333333C175.5765584595427 16.05989333333333,175.4023184595427 15.632213333333333,174.9746384595427 15.125333333333332C174.83207845954269 14.951093333333333,174.6578384595427 14.792693333333332,174.4360784595427 14.650133333333333L173.9450384595427 14.380853333333333L173.2005584595427 14.174933333333332C173.08967845954268 14.143253333333332,173.0104784595427 14.143253333333332,172.9629584595427 14.064053333333332C172.94711845954268 14.016533333333332,172.94711845954268 13.984853333333332,172.94711845954268 13.953173333333332C172.94711845954268 13.858133333333333,172.9629584595427 13.763093333333332,173.0421584595427 13.747253333333331C173.2955984595427 13.668053333333333,173.5331984595427 13.652213333333332,173.73911845954268 13.541333333333332C174.6578384595427 13.097813333333333,175.1330384595427 12.511733333333332,175.1330384595427 11.466293333333333C175.1330384595427 9.359573333333332,172.28183845954268 8.741813333333333,171.33143845954268 8.678453333333332C171.2205584595427 8.678453333333332,171.0938384595427 8.646773333333332,170.9829584595427 8.646773333333332C169.0187984595427 8.646773333333332,167.0546384595427 9.961493333333333,167.0546384595427 11.165333333333333C167.0546384595427 11.909813333333332,167.49815845954268 12.923573333333332,168.90791845954269 13.002773333333332L169.0187984595427 13.002773333333332C170.03255845954268 13.002773333333332,170.52359845954268 12.274133333333332,170.52359845954268 11.529653333333332L170.52359845954268 11.339573333333332C170.4602384595427 10.500053333333332,169.88999845954268 10.452533333333331,169.7791184595427 10.405013333333333C169.6682384595427 10.357493333333332,169.3197584595427 10.405013333333333,169.3197584595427 10.088213333333332L169.3197584595427 9.993173333333331C169.3672784595427 9.613013333333331,170.0800784595427 9.422933333333333,170.2701584595427 9.422933333333333C172.2184784595427 9.422933333333333,172.3927184595427 10.642613333333333,172.3927184595427 11.181173333333332L172.3927184595427 11.339573333333332C172.3927184595427 13.034453333333332,171.0463184595427 13.699733333333333,169.6207184595427 13.763093333333332C169.3831184595427 13.778933333333333,169.06631845954269 13.905653333333332,169.06631845954269 14.143253333333332C169.06631845954269 14.428373333333331,169.4623184595427 14.428373333333331,169.6365584595427 14.428373333333331C172.2659984595427 14.428373333333331,172.47191845954268 16.20245333333333,172.47191845954268 16.50341333333333C172.47191845954268 18.911093333333334,171.2363984595427 19.196213333333333,170.7295184595427 19.196213333333333C170.6503184595427 19.196213333333333,170.5552784595427 19.16453333333333,170.52359845954268 19.16453333333333C170.34935845954269 19.148693333333334,169.90583845954268 19.148693333333334,169.88999845954268 18.800213333333332L169.88999845954268 18.68933333333333C169.88999845954268 18.18245333333333,170.3968784595427 17.849813333333334,170.4127184595427 17.18453333333333C170.4127184595427 16.234133333333332,169.74743845954268 15.537173333333332,168.76535845954268 15.537173333333332C168.6861584595427 15.537173333333332,168.60695845954268 15.537173333333332,168.5277584595427 15.568853333333331C168.13175845954268 15.632213333333333,167.7040784595427 15.853973333333332,167.4189584595427 16.154933333333332C167.0387984595427 16.50341333333333,166.9279184595427 17.04197333333333,166.9279184595427 17.548853333333334"></path><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="323.218915378628" y="15" width="50.59786820712395" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="392.497103585752" y="15" width="50.59786820712395" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="323.218915378628" y="15" width="1" height="10"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="443.0949717928759" y="15" width="1" height="10"></rect><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M378.8167835857519 14.333333333333332M379.2761435857519 17.548853333333334C379.32366358575194 19.32293333333333,380.93934358575194 20.019893333333332,383.1727835857519 20.05157333333333L383.3787035857519 20.05157333333333C385.64382358575193 20.05157333333333,387.9564635857519 18.895253333333333,387.9564635857519 16.88357333333333L387.9564635857519 16.72517333333333C387.9247835857519 16.05989333333333,387.7505435857519 15.632213333333333,387.3228635857519 15.125333333333332C387.1803035857519 14.951093333333333,387.0060635857519 14.792693333333332,386.7843035857519 14.650133333333333L386.2932635857519 14.380853333333333L385.54878358575195 14.174933333333332C385.43790358575194 14.143253333333332,385.3587035857519 14.143253333333332,385.3111835857519 14.064053333333332C385.29534358575194 14.016533333333332,385.29534358575194 13.984853333333332,385.29534358575194 13.953173333333332C385.29534358575194 13.858133333333333,385.3111835857519 13.763093333333332,385.3903835857519 13.747253333333331C385.64382358575193 13.668053333333333,385.8814235857519 13.652213333333332,386.0873435857519 13.541333333333332C387.0060635857519 13.097813333333333,387.48126358575195 12.511733333333332,387.48126358575195 11.466293333333333C387.48126358575195 9.359573333333332,384.63006358575194 8.741813333333333,383.67966358575194 8.678453333333332C383.56878358575193 8.678453333333332,383.4420635857519 8.646773333333332,383.33118358575194 8.646773333333332C381.3670235857519 8.646773333333332,379.4028635857519 9.961493333333333,379.4028635857519 11.165333333333333C379.4028635857519 11.909813333333332,379.84638358575194 12.923573333333332,381.25614358575194 13.002773333333332L381.3670235857519 13.002773333333332C382.38078358575194 13.002773333333332,382.87182358575194 12.274133333333332,382.87182358575194 11.529653333333332L382.87182358575194 11.339573333333332C382.8084635857519 10.500053333333332,382.23822358575194 10.452533333333331,382.12734358575193 10.405013333333333C382.0164635857519 10.357493333333332,381.6679835857519 10.405013333333333,381.6679835857519 10.088213333333332L381.6679835857519 9.993173333333331C381.71550358575195 9.613013333333331,382.4283035857519 9.422933333333333,382.61838358575193 9.422933333333333C384.5667035857519 9.422933333333333,384.7409435857519 10.642613333333333,384.7409435857519 11.181173333333332L384.7409435857519 11.339573333333332C384.7409435857519 13.034453333333332,383.39454358575193 13.699733333333333,381.9689435857519 13.763093333333332C381.7313435857519 13.778933333333333,381.4145435857519 13.905653333333332,381.4145435857519 14.143253333333332C381.4145435857519 14.428373333333331,381.81054358575193 14.428373333333331,381.9847835857519 14.428373333333331C384.6142235857519 14.428373333333331,384.8201435857519 16.20245333333333,384.8201435857519 16.50341333333333C384.8201435857519 18.911093333333334,383.5846235857519 19.196213333333333,383.07774358575193 19.196213333333333C382.9985435857519 19.196213333333333,382.90350358575193 19.16453333333333,382.87182358575194 19.16453333333333C382.69758358575194 19.148693333333334,382.2540635857519 19.148693333333334,382.23822358575194 18.800213333333332L382.23822358575194 18.68933333333333C382.23822358575194 18.18245333333333,382.7451035857519 17.849813333333334,382.76094358575193 17.18453333333333C382.76094358575193 16.234133333333332,382.09566358575194 15.537173333333332,381.11358358575194 15.537173333333332C381.0343835857519 15.537173333333332,380.9551835857519 15.537173333333332,380.8759835857519 15.568853333333331C380.47998358575194 15.632213333333333,380.05230358575193 15.853973333333332,379.7671835857519 16.154933333333332C379.38702358575193 16.50341333333333,379.2761435857519 17.04197333333333,379.2761435857519 17.548853333333334"></path><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="499" y="40" width="1" height="41"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="10" y="40" width="1" height="41"></rect></svg></div>';
    const actualTrimmed = el.shadowRoot.innerHTML.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');
    const expectedTrimmed = expected.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');

    expect(actualTrimmed).to.equal(expectedTrimmed);
  });

  it('Beamed tuplet', async() => {
    const el = await fixture(html`
      <vf-score>
        <vf-system>
          <vf-stave clef='treble' timeSig='3/8'>
            <vf-voice stem='up'>
              <vf-tuplet beamed stem='down' location='below'>B4/16, A4[id='start'], G4</vf-tuplet>
              <vf-tuplet beamed stem='down' location='below'>A4/8, F4, A4[id='end'], F4, A4, F4</vf-tuplet>
            </vf-voice>
          </vf-stave>
        </vf-system>
      </vf-score>
    `);

    const expected = '<div id="vf-score"><slot></slot><svg width="500" height="130" viewBox="0 0 500 130" style="width: 500px; height: 130px;"><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 40L499 40"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 50L499 50"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 60L499 60"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 70L499 70"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 80L499 80"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M15 71M28.280256 80.199872C29.116608 80.199872,30.079680000000003 80.12384,30.814656 79.971776C31.194816000000003 79.89574400000001,31.270848 79.8704,31.346880000000002 80.301248C31.777728 82.759616,32.335296 85.927616,32.335296 87.651008C32.335296 93.04928000000001,28.685760000000002 93.708224,26.53152 93.708224C24.554688 93.708224,23.61696 93.12531200000001,23.61696 92.643776C23.61696 92.390336,23.946432 92.28896,24.782784 92.010176C25.923264000000003 91.680704,27.215808000000003 90.71763200000001,27.215808000000003 88.588736C27.215808000000003 86.58656,25.948608 84.863168,23.718336 84.863168C21.285312 84.863168,19.81536 86.814656,19.81536 89.070272C19.81536 91.42726400000001,21.234624 95.026112,26.759616 95.026112C29.19264 95.026112,33.931968 93.910976,33.931968 87.72704C33.931968 85.62348800000001,33.27302400000001 82.176704,32.892864 79.89574400000001C32.816832000000005 79.464896,32.842176 79.515584,33.349056000000004 79.287488C37.04928 77.817536,39.482304 74.725568,39.482304 70.594496C39.482304 65.9312,36.060864 61.800128,30.687936 61.800128C29.750208 61.800128,29.750208 61.800128,29.623488000000002 61.141183999999996L28.711104 55.844288C28.660416 55.41344,28.711104 55.388096,28.9392 55.16C32.892864 51.485119999999995,35.883456 46.847167999999996,35.883456 41.246144C35.883456 38.078143999999995,34.996415999999996 34.935488,33.50112 32.755903999999994C32.943552 31.944896,32.005824000000004 30.931135999999995,31.60032 30.931135999999995C31.09344 30.931135999999995,29.95296 31.868863999999995,29.243328 32.679871999999996C26.53152 35.670463999999996,25.64448 40.232383999999996,25.64448 44.033984C25.64448 46.137536,25.923264000000003 48.519872,26.176704 50.015168C26.252736 50.446016,26.278080000000003 50.522048,25.847231999999998 50.902208C20.57568 55.236031999999994,15 60.456896,15 67.832C15 74.168,19.333824 80.199872,28.280256 80.199872M17.91456 70.265024C17.91456 68.110784,18.29472 65.221568,21.310656 61.800128C23.515584 59.367104,25.188288 57.998528,26.886336 56.629952C27.266496 56.325824,27.342528 56.376512,27.41856 56.756671999999995L28.17888 61.445312C28.280256 62.129599999999996,28.280256 62.104256,27.621312000000003 62.307007999999996C24.427968 63.3968,22.324416 66.286016,22.324416 69.403328C22.324416 72.672704,24.047808 75.004352,26.53152 75.866048C26.835648 75.967424,27.266496 76.0688,27.519936 76.0688C27.798720000000003 76.0688,27.950784 75.891392,27.950784 75.663296C27.950784 75.409856,27.672 75.30848,27.41856 75.207104C25.872576000000002 74.54816,24.782784 72.976832,24.782784 71.304128C24.782784 69.200576,26.202048 67.654592,28.43232 67.020992C29.015232 66.868928,29.091264000000002 66.919616,29.167296 67.32512L30.992064 78.19769600000001C31.068096 78.6032,31.017408 78.6032,30.485184000000004 78.704576C29.902272000000004 78.805952,29.167296 78.881984,28.43232 78.881984C22.045632 78.881984,17.91456 75.33382399999999,17.91456 70.265024M32.157888 36.582848C33.349056000000004 36.582848,34.337472000000005 37.571264,34.337472000000005 39.57344C34.337472000000005 43.628479999999996,30.865344 46.923199999999994,28.001472 49.432255999999995C27.748032000000002 49.660352,27.595968 49.609663999999995,27.519936 49.128128C27.367872 48.1904,27.29184 46.948544,27.29184 45.78272C27.29184 40.08032,29.927616 36.582848,32.157888 36.582848M31.09344 66.742208C34.058688000000004 66.995648,36.49171200000001 69.47936,36.49171200000001 72.672704C36.49171200000001 74.979008,35.097792 76.82912,33.070272 77.868224C32.639424000000005 78.070976,32.563392 78.070976,32.48736 77.640128L30.687936 67.249088C30.611904000000003 66.792896,30.662592000000004 66.69152,31.09344 66.742208"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56.26928 50M56.9792 54.96944C57.052640000000004 57.7112,59.5496 58.78832,63.00128 58.83728L63.319520000000004 58.83728C66.82016 58.83728,70.39424 57.05024,70.39424 53.94128L70.39424 53.69648C70.34528 52.66832,70.076 52.00736,69.41504 51.224C69.19472 50.95472,68.92544000000001 50.70992,68.58272 50.4896L67.82384 50.07344L66.67328 49.7552C66.50192 49.70624,66.37952 49.70624,66.30608000000001 49.58384C66.2816 49.5104,66.2816 49.46144,66.2816 49.41248C66.2816 49.2656,66.30608000000001 49.11872,66.42848000000001 49.09424C66.82016 48.97184,67.18736 48.94736,67.5056 48.776C68.92544000000001 48.09056,69.65984 47.1848,69.65984 45.56912C69.65984 42.31328,65.25344 41.35856,63.78464 41.26064C63.61328 41.26064,63.41744 41.21168,63.24608 41.21168C60.21056 41.21168,57.17504 43.243520000000004,57.17504 45.104C57.17504 46.25456,57.86048 47.82128,60.0392 47.94368L60.21056 47.94368C61.777280000000005 47.94368,62.53616 46.8176,62.53616 45.66704L62.53616 45.37328C62.43824 44.07584,61.556960000000004 44.0024,61.385600000000004 43.928960000000004C61.214240000000004 43.85552,60.67568 43.928960000000004,60.67568 43.43936L60.67568 43.29248C60.749120000000005 42.70496,61.85072 42.4112,62.14448 42.4112C65.15552 42.4112,65.4248 44.29616,65.4248 45.12848L65.4248 45.37328C65.4248 47.99264,63.344 49.0208,61.1408 49.11872C60.7736 49.1432,60.284 49.33904,60.284 49.70624C60.284 50.14688,60.896 50.14688,61.16528 50.14688C65.22896 50.14688,65.5472 52.88864,65.5472 53.35376C65.5472 57.07472,63.63776 57.51536,62.8544 57.51536C62.732 57.51536,62.58512 57.4664,62.53616 57.4664C62.26688 57.441919999999996,61.58144 57.441919999999996,61.556960000000004 56.90336L61.556960000000004 56.732C61.556960000000004 55.94864,62.340320000000006 55.43456,62.3648 54.4064C62.3648 52.9376,61.33664 51.86048,59.81888 51.86048C59.69648 51.86048,59.57408 51.86048,59.45168 51.90944C58.83968 52.00736,58.17872 52.35008,57.738080000000004 52.8152C57.15056 53.35376,56.9792 54.18608,56.9792 54.96944"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56 70M56.70992 74.6512C56.70992 77.7112,59.86784 79.13104,63.36848 79.13104C66.89359999999999 79.13104,70.66352 77.61328,70.66352 72.86416C70.66352 70.7344,69.43952 69.58384,67.77488 68.72704C69.04784 67.9192,69.88016 66.76864,69.88016 65.00608C69.88016 61.40752,64.71488 60.86896,63.76016 60.86896C59.672 60.86896,56.88128 62.72944,56.88128 65.69152C56.88128 68.13952,58.25216 69.43696,59.94128 70.39168C58.10528 71.27296,56.70992 72.42352,56.70992 74.6512M58.71728 74.47984C58.71728 73.06,59.94128 71.76256,61.508 71.17504C64.0784 72.30112,66.67328 73.03552,66.67328 75.36112C66.67328 76.75648,65.59616 77.956,63.2216 77.956C60.87152 77.956,58.71728 76.75648,58.71728 74.47984M63.68672 61.89712C64.8128 61.89712,67.79936 62.46016,67.79936 64.93264C67.79936 66.328,67.11392 67.25824,65.93888 67.9192C63.12368 66.94,60.11264 66.328,60.11264 64.1248C60.11264 62.63152,62.14448 61.89712,63.68672 61.89712"></path><g class="vf-stavenote" id="vf-auto1585"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M81.9536 60M81.9536 61.6848C81.9536 63.7908,83.69456 65.0544,85.8848 65.0544C89.47904 65.0544,93.88759999999999 61.74096,93.88759999999999 58.3152C93.88759999999999 56.23728,92.25896 54.9456,89.9564 54.9456C85.51975999999999 54.9456,81.9536 58.23096,81.9536 61.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-start"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M126.96608888888888 65M126.96608888888888 66.6848C126.96608888888888 68.7908,128.70704888888886 70.0544,130.89728888888888 70.0544C134.49152888888887 70.0544,138.9000888888889 66.74096,138.9000888888889 63.3152C138.9000888888889 61.23728,137.27144888888887 59.9456,134.96888888888887 59.9456C130.5322488888889 59.9456,126.96608888888888 63.23096,126.96608888888888 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1605"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M171.97857777777776 70M171.97857777777776 71.6848C171.97857777777776 73.7908,173.71953777777776 75.0544,175.90977777777775 75.0544C179.50401777777776 75.0544,183.91257777777776 71.74096,183.91257777777776 68.3152C183.91257777777776 66.23728,182.28393777777777 64.9456,179.98137777777777 64.9456C175.54473777777775 64.9456,171.97857777777776 68.23096,171.97857777777776 71.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1619"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M216.99106666666665 65M216.99106666666665 66.6848C216.99106666666665 68.7908,218.73202666666666 70.0544,220.92226666666664 70.0544C224.51650666666666 70.0544,228.92506666666665 66.74096,228.92506666666665 63.3152C228.92506666666665 61.23728,227.29642666666666 59.9456,224.99386666666666 59.9456C220.55722666666665 59.9456,216.99106666666665 63.23096,216.99106666666665 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1629"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M262.0035555555555 75M262.0035555555555 76.6848C262.0035555555555 78.7908,263.7445155555555 80.0544,265.9347555555555 80.0544C269.5289955555555 80.0544,273.93755555555555 76.74096,273.93755555555555 73.3152C273.93755555555555 71.23728,272.30891555555553 69.9456,270.0063555555555 69.9456C265.56971555555555 69.9456,262.0035555555555 73.23096,262.0035555555555 76.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-end"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M307.0160444444444 65M307.0160444444444 66.6848C307.0160444444444 68.7908,308.75700444444436 70.0544,310.9472444444444 70.0544C314.5414844444444 70.0544,318.9500444444444 66.74096,318.9500444444444 63.3152C318.9500444444444 61.23728,317.3214044444444 59.9456,315.01884444444437 59.9456C310.5822044444444 59.9456,307.0160444444444 63.23096,307.0160444444444 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1649"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M352.02853333333326 75M352.02853333333326 76.6848C352.02853333333326 78.7908,353.76949333333323 80.0544,355.95973333333325 80.0544C359.55397333333326 80.0544,363.9625333333333 76.74096,363.9625333333333 73.3152C363.9625333333333 71.23728,362.33389333333326 69.9456,360.03133333333324 69.9456C355.5946933333333 69.9456,352.02853333333326 73.23096,352.02853333333326 76.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1659"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M397.0410222222221 65M397.0410222222221 66.6848C397.0410222222221 68.7908,398.7819822222221 70.0544,400.9722222222221 70.0544C404.5664622222221 70.0544,408.97502222222215 66.74096,408.97502222222215 63.3152C408.97502222222215 61.23728,407.34638222222213 59.9456,405.0438222222221 59.9456C400.60718222222215 59.9456,397.0410222222221 63.23096,397.0410222222221 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1669"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M442.053511111111 75M442.053511111111 76.6848C442.053511111111 78.7908,443.79447111111097 80.0544,445.984711111111 80.0544C449.578951111111 80.0544,453.987511111111 76.74096,453.987511111111 73.3152C453.987511111111 71.23728,452.358871111111 69.9456,450.056311111111 69.9456C445.619671111111 69.9456,442.053511111111 73.23096,442.053511111111 76.6848"></path></g></g><g class="vf-modifiers"></g></g><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M123.37592888888888 114.33333333333333M123.83528888888888 117.54885333333333C123.88280888888887 119.32293333333332,125.49848888888889 120.01989333333333,127.73192888888887 120.05157333333332L127.93784888888888 120.05157333333332C130.20296888888888 120.05157333333332,132.5156088888889 118.89525333333333,132.5156088888889 116.88357333333333L132.5156088888889 116.72517333333333C132.48392888888887 116.05989333333333,132.30968888888887 115.63221333333333,131.8820088888889 115.12533333333333C131.7394488888889 114.95109333333333,131.5652088888889 114.79269333333333,131.34344888888887 114.65013333333333L130.85240888888887 114.38085333333333L130.1079288888889 114.17493333333333C129.99704888888888 114.14325333333333,129.91784888888887 114.14325333333333,129.87032888888888 114.06405333333333C129.85448888888888 114.01653333333333,129.85448888888888 113.98485333333333,129.85448888888888 113.95317333333332C129.85448888888888 113.85813333333333,129.87032888888888 113.76309333333333,129.9495288888889 113.74725333333333C130.20296888888888 113.66805333333333,130.4405688888889 113.65221333333332,130.64648888888888 113.54133333333333C131.5652088888889 113.09781333333333,132.0404088888889 112.51173333333332,132.0404088888889 111.46629333333333C132.0404088888889 109.35957333333333,129.18920888888888 108.74181333333333,128.23880888888888 108.67845333333332C128.12792888888887 108.67845333333332,128.00120888888887 108.64677333333333,127.89032888888887 108.64677333333333C125.92616888888888 108.64677333333333,123.96200888888887 109.96149333333332,123.96200888888887 111.16533333333332C123.96200888888887 111.90981333333333,124.40552888888888 112.92357333333332,125.81528888888887 113.00277333333332L125.92616888888888 113.00277333333332C126.93992888888889 113.00277333333332,127.43096888888888 112.27413333333332,127.43096888888888 111.52965333333333L127.43096888888888 111.33957333333333C127.36760888888888 110.50005333333333,126.79736888888888 110.45253333333334,126.68648888888887 110.40501333333333C126.57560888888888 110.35749333333332,126.22712888888888 110.40501333333333,126.22712888888888 110.08821333333333L126.22712888888888 109.99317333333333C126.27464888888888 109.61301333333333,126.98744888888888 109.42293333333333,127.17752888888887 109.42293333333333C129.12584888888887 109.42293333333333,129.30008888888887 110.64261333333333,129.30008888888887 111.18117333333333L129.30008888888887 111.33957333333333C129.30008888888887 113.03445333333333,127.95368888888888 113.69973333333333,126.52808888888887 113.76309333333333C126.29048888888887 113.77893333333333,125.97368888888887 113.90565333333333,125.97368888888887 114.14325333333333C125.97368888888887 114.42837333333333,126.36968888888887 114.42837333333333,126.54392888888889 114.42837333333333C129.1733688888889 114.42837333333333,129.37928888888888 116.20245333333332,129.37928888888888 116.50341333333333C129.37928888888888 118.91109333333333,128.14376888888887 119.19621333333333,127.63688888888888 119.19621333333333C127.55768888888888 119.19621333333333,127.46264888888888 119.16453333333332,127.43096888888888 119.16453333333332C127.25672888888887 119.14869333333333,126.81320888888888 119.14869333333333,126.79736888888888 118.80021333333333L126.79736888888888 118.68933333333332C126.79736888888888 118.18245333333333,127.30424888888888 117.84981333333333,127.32008888888888 117.18453333333333C127.32008888888888 116.23413333333333,126.65480888888888 115.53717333333333,125.67272888888888 115.53717333333333C125.59352888888888 115.53717333333333,125.51432888888888 115.53717333333333,125.43512888888888 115.56885333333332C125.03912888888888 115.63221333333333,124.61144888888887 115.85397333333333,124.32632888888888 116.15493333333333C123.94616888888888 116.50341333333333,123.83528888888888 117.04197333333333,123.83528888888888 117.54885333333333"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M82.7036 62L82.7036 95.24750222222222"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M127.71608888888888 67L127.71608888888888 99.7487511111111"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M172.72857777777776 72L172.72857777777776 104.25"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M81.9536 95.92250222222222L81.9536 90.92250222222222L172.97857777777776 99.925L172.97857777777776 104.925Z"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M81.9536 88.42250222222222L81.9536 83.42250222222222L172.97857777777776 92.425L172.97857777777776 97.425Z"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M317.63636888888885 119.33333333333333M318.09572888888886 119.26997333333333L318.09572888888886 119.34917333333333C318.1115688888888 120.41045333333332,318.30164888888885 121.59845333333332,318.79268888888885 122.50133333333333C319.7272488888889 124.19621333333333,320.8518888888889 125.01989333333333,322.76852888888885 125.01989333333333C323.79812888888887 125.01989333333333,324.93860888888884 124.84565333333333,325.76228888888886 124.19621333333333C326.55428888888883 123.54677333333333,327.0770088888888 122.53301333333333,327.0770088888888 121.50341333333333C327.0770088888888 119.71349333333333,325.39796888888884 118.19285333333333,323.63972888888884 118.19285333333333C322.91108888888886 118.19285333333333,322.1507688888889 118.46213333333333,321.56468888888884 118.98485333333333C321.5171688888889 119.03237333333333,321.46964888888886 119.03237333333333,321.42212888888884 119.03237333333333C321.27956888888883 119.03237333333333,321.21620888888884 118.85813333333333,321.21620888888884 118.49381333333334C321.27956888888883 114.26453333333333,322.62596888888885 114.15365333333332,323.11700888888885 114.15365333333332C323.5605288888888 114.15365333333332,323.86148888888886 114.26453333333333,323.86148888888886 114.50213333333333C323.86148888888886 114.81893333333333,323.43380888888885 115.08821333333333,323.29124888888884 115.35749333333332C323.18036888888884 115.56341333333333,323.1328488888889 115.80101333333333,323.1328488888889 116.02277333333333C323.1328488888889 116.37125333333333,323.2437288888889 116.70389333333333,323.48132888888887 116.95733333333332C323.63972888888884 117.25829333333333,324.28916888888887 117.43253333333332,324.59012888888884 117.43253333333332C325.55636888888887 117.43253333333332,326.41172888888883 116.68805333333333,326.41172888888883 115.70597333333333C326.41172888888883 115.61093333333334,326.41172888888883 115.54757333333333,326.39588888888886 115.45253333333334C326.17412888888884 113.99525333333332,324.38420888888885 113.61509333333333,323.14868888888884 113.61509333333333C321.42212888888884 113.63093333333333,319.80644888888884 114.47045333333332,318.98276888888887 116.02277333333333C318.47588888888885 116.98901333333333,318.09572888888886 118.19285333333333,318.09572888888886 119.26997333333333M322.70516888888886 119.28581333333332C323.43380888888885 119.28581333333332,324.0515688888889 120.42629333333333,324.0515688888889 121.83605333333333C324.0515688888889 123.26165333333333,323.43380888888885 124.40213333333332,322.70516888888886 124.40213333333332C321.9765288888889 124.40213333333332,321.3746088888889 123.26165333333333,321.3746088888889 121.83605333333333C321.3746088888889 120.42629333333333,321.9765288888889 119.28581333333332,322.70516888888886 119.28581333333332"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M331.45764888888885 118.24 A1.3199999999999998 1.3199999999999998 0 0 1 328.81764888888887 118.24M328.81764888888887 118.24 A1.3199999999999998 1.3199999999999998 0 0 1 331.45764888888885 118.24Z"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M331.45764888888885 122.64 A1.3199999999999998 1.3199999999999998 0 0 1 328.81764888888887 122.64M328.81764888888887 122.64 A1.3199999999999998 1.3199999999999998 0 0 1 331.45764888888885 122.64Z"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M333.65764888888884 119.33333333333333M334.11700888888885 116.64053333333332C334.11700888888885 116.95733333333332,334.18036888888884 117.27413333333332,334.32292888888884 117.62261333333333C334.65556888888887 118.33541333333334,335.3683688888888 118.87397333333332,336.19204888888885 118.87397333333332C337.58596888888883 118.87397333333332,337.7918888888888 117.43253333333332,337.7918888888888 116.86229333333333C337.7918888888888 115.50005333333333,336.2078888888888 115.43669333333332,336.2078888888888 114.97733333333333C336.25540888888884 114.66053333333333,336.6672488888888 114.10613333333333,338.01364888888884 114.10613333333333C340.0411688888888 114.10613333333333,340.07284888888887 115.64261333333333,340.07284888888887 116.29205333333333C340.07284888888887 118.38293333333333,338.36212888888883 119.95109333333333,336.71476888888884 120.94901333333333C335.46340888888886 121.75685333333332,334.57636888888885 122.86565333333333,334.18036888888884 124.30709333333333C334.18036888888884 124.65557333333332,334.29124888888884 125.19413333333333,334.75060888888885 125.19413333333333C335.2574888888888 125.19413333333333,335.52676888888885 123.80021333333333,336.87316888888887 123.80021333333333C337.7918888888888 123.80021333333333,338.12452888888885 125.03573333333333,340.1520488888888 125.03573333333333C341.1341288888888 125.03573333333333,342.8923688888888 124.94069333333333,343.25668888888885 121.40837333333333C343.25668888888885 121.13909333333334,343.14580888888884 121.09157333333333,342.98740888888887 121.09157333333333C342.79732888888884 121.09157333333333,342.73396888888885 121.18661333333333,342.68644888888883 121.31333333333333C342.68644888888883 121.34501333333333,342.67060888888886 121.36085333333332,342.67060888888886 121.39253333333333C342.4330088888888 121.93109333333332,342.2587688888888 122.37461333333333,341.78356888888885 122.37461333333333C341.6568488888888 122.37461333333333,341.54596888888886 122.34293333333333,341.38756888888884 122.29541333333333C341.08660888888886 122.18453333333333,340.92820888888883 122.16869333333332,340.7064488888889 122.04197333333333C340.24708888888887 121.86773333333333,339.16996888888883 121.50341333333333,338.23540888888886 121.50341333333333C337.95028888888885 121.50341333333333,337.6493288888888 121.55093333333333,337.39588888888886 121.63013333333333C337.90276888888883 120.82229333333333,339.8352488888888 120.12533333333333,340.34212888888885 119.99861333333332C341.9419688888888 119.55509333333333,343.36756888888885 118.90565333333333,343.36756888888885 117.00485333333333C343.36756888888885 114.58133333333333,341.00740888888885 113.53589333333333,338.8848488888888 113.53589333333333C337.28500888888885 113.53589333333333,335.87524888888885 113.67845333333332,334.75060888888885 114.97733333333333C334.37044888888886 115.45253333333334,334.11700888888885 116.02277333333333,334.11700888888885 116.64053333333332"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M217.74106666666665 67L217.74106666666665 109.25000000000001"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M262.7535555555555 77L262.7535555555555 109.25000000000001"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M307.7660444444444 67L307.7660444444444 109.25000000000001"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M352.77853333333326 77L352.77853333333326 109.25000000000001"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M397.7910222222221 67L397.7910222222221 109.25000000000001"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M442.803511111111 77L442.803511111111 109.25"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M216.99106666666665 110.00000000000001L216.99106666666665 105.00000000000001L443.053511111111 105L443.053511111111 110Z"></path><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="499" y="40" width="1" height="41"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="10" y="40" width="1" height="41"></rect></svg></div>';
    const actualTrimmed = el.shadowRoot.innerHTML.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');
    const expectedTrimmed = expected.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');

    expect(actualTrimmed).to.equal(expectedTrimmed);
  });

  it('Notes occupied set', async() => {
    const el = await fixture(html`
      <vf-score>
        <vf-system>
          <vf-stave clef='treble' timeSig='4/4'>
            <vf-voice stem='up'>
              <vf-tuplet stem='up'>F4/q, A4, B4</vf-tuplet>
              <vf-tuplet beamed stem='up' notesOccupied='4'>G4/8, E4, G4</vf-tuplet>
            </vf-voice>
          </vf-stave>
        </vf-system>
      </vf-score>
    `);

    const expected = '<div id="vf-score"><slot></slot><svg width="500" height="130" viewBox="0 0 500 130" style="width: 500px; height: 130px;"><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 40L499 40"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 50L499 50"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 60L499 60"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 70L499 70"></path><path stroke-width="1" fill="none" stroke="#999999" stroke-dasharray="none" d="M10 80L499 80"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M15 71M28.280256 80.199872C29.116608 80.199872,30.079680000000003 80.12384,30.814656 79.971776C31.194816000000003 79.89574400000001,31.270848 79.8704,31.346880000000002 80.301248C31.777728 82.759616,32.335296 85.927616,32.335296 87.651008C32.335296 93.04928000000001,28.685760000000002 93.708224,26.53152 93.708224C24.554688 93.708224,23.61696 93.12531200000001,23.61696 92.643776C23.61696 92.390336,23.946432 92.28896,24.782784 92.010176C25.923264000000003 91.680704,27.215808000000003 90.71763200000001,27.215808000000003 88.588736C27.215808000000003 86.58656,25.948608 84.863168,23.718336 84.863168C21.285312 84.863168,19.81536 86.814656,19.81536 89.070272C19.81536 91.42726400000001,21.234624 95.026112,26.759616 95.026112C29.19264 95.026112,33.931968 93.910976,33.931968 87.72704C33.931968 85.62348800000001,33.27302400000001 82.176704,32.892864 79.89574400000001C32.816832000000005 79.464896,32.842176 79.515584,33.349056000000004 79.287488C37.04928 77.817536,39.482304 74.725568,39.482304 70.594496C39.482304 65.9312,36.060864 61.800128,30.687936 61.800128C29.750208 61.800128,29.750208 61.800128,29.623488000000002 61.141183999999996L28.711104 55.844288C28.660416 55.41344,28.711104 55.388096,28.9392 55.16C32.892864 51.485119999999995,35.883456 46.847167999999996,35.883456 41.246144C35.883456 38.078143999999995,34.996415999999996 34.935488,33.50112 32.755903999999994C32.943552 31.944896,32.005824000000004 30.931135999999995,31.60032 30.931135999999995C31.09344 30.931135999999995,29.95296 31.868863999999995,29.243328 32.679871999999996C26.53152 35.670463999999996,25.64448 40.232383999999996,25.64448 44.033984C25.64448 46.137536,25.923264000000003 48.519872,26.176704 50.015168C26.252736 50.446016,26.278080000000003 50.522048,25.847231999999998 50.902208C20.57568 55.236031999999994,15 60.456896,15 67.832C15 74.168,19.333824 80.199872,28.280256 80.199872M17.91456 70.265024C17.91456 68.110784,18.29472 65.221568,21.310656 61.800128C23.515584 59.367104,25.188288 57.998528,26.886336 56.629952C27.266496 56.325824,27.342528 56.376512,27.41856 56.756671999999995L28.17888 61.445312C28.280256 62.129599999999996,28.280256 62.104256,27.621312000000003 62.307007999999996C24.427968 63.3968,22.324416 66.286016,22.324416 69.403328C22.324416 72.672704,24.047808 75.004352,26.53152 75.866048C26.835648 75.967424,27.266496 76.0688,27.519936 76.0688C27.798720000000003 76.0688,27.950784 75.891392,27.950784 75.663296C27.950784 75.409856,27.672 75.30848,27.41856 75.207104C25.872576000000002 74.54816,24.782784 72.976832,24.782784 71.304128C24.782784 69.200576,26.202048 67.654592,28.43232 67.020992C29.015232 66.868928,29.091264000000002 66.919616,29.167296 67.32512L30.992064 78.19769600000001C31.068096 78.6032,31.017408 78.6032,30.485184000000004 78.704576C29.902272000000004 78.805952,29.167296 78.881984,28.43232 78.881984C22.045632 78.881984,17.91456 75.33382399999999,17.91456 70.265024M32.157888 36.582848C33.349056000000004 36.582848,34.337472000000005 37.571264,34.337472000000005 39.57344C34.337472000000005 43.628479999999996,30.865344 46.923199999999994,28.001472 49.432255999999995C27.748032000000002 49.660352,27.595968 49.609663999999995,27.519936 49.128128C27.367872 48.1904,27.29184 46.948544,27.29184 45.78272C27.29184 40.08032,29.927616 36.582848,32.157888 36.582848M31.09344 66.742208C34.058688000000004 66.995648,36.49171200000001 69.47936,36.49171200000001 72.672704C36.49171200000001 74.979008,35.097792 76.82912,33.070272 77.868224C32.639424000000005 78.070976,32.563392 78.070976,32.48736 77.640128L30.687936 67.249088C30.611904000000003 66.792896,30.662592000000004 66.69152,31.09344 66.742208"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56 50M57.41984 53.94128L63.956 53.94128L63.956 56.16896C63.956 57.12368,63.19712 57.39296,62.56064 57.39296C61.9976 57.39296,61.7528 57.7112,61.7528 58.0784C61.7528 58.42112,61.8752 58.812799999999996,62.413759999999996 58.812799999999996L69.92912 58.812799999999996C70.27184 58.812799999999996,70.63904 58.568,70.63904 58.0784C70.63904 57.5888,70.19839999999999 57.36848,69.85568 57.36848C69.51295999999999 57.36848,68.75408 57.14816,68.75408 56.02208L68.75408 53.94128L71.32448 53.94128C71.69167999999999 53.94128,71.86304 53.69648,71.86304 53.28032C71.86304 52.86416,71.71616 52.61936,71.32448 52.61936L68.75408 52.61936L68.75408 45.05504C68.75408 44.78576,68.7296 44.46752,68.33792 44.46752C68.01968 44.46752,67.84832 44.54096,67.628 44.78576L64.27423999999999 48.82496C64.15183999999999 49.0208,63.956 49.21664,63.956 49.65728L63.956 52.61936L59.20688 52.61936C62.02208 50.22032,67.67696 42.215360000000004,67.77488 41.82368C67.77488 41.75024,67.79936 41.72576,67.79936 41.65232C67.79936 41.35856,67.55456 41.16272,67.28528 41.16272C66.96704 41.16272,65.52271999999999 41.21168,64.88624 41.21168C64.24976 41.21168,62.65856 41.16272,62.38928 41.16272C62.071039999999996 41.16272,61.58144 41.26064,61.58144 41.82368C61.58144 46.18112,58.10528 51.1016,57.05264 52.5704L56.8568 52.86416C56.8568 52.88864,56.80784 52.9376,56.80784 52.96208C56.7344 53.108959999999996,56.70992 53.23136,56.70992 53.35376C56.70992 53.69648,56.9792 53.94128,57.41984 53.94128"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M56 70M57.41984 73.94128L63.956 73.94128L63.956 76.16896C63.956 77.12368,63.19712 77.39296,62.56064 77.39296C61.9976 77.39296,61.7528 77.7112,61.7528 78.0784C61.7528 78.42112,61.8752 78.8128,62.413759999999996 78.8128L69.92912 78.8128C70.27184 78.8128,70.63904 78.568,70.63904 78.0784C70.63904 77.58879999999999,70.19839999999999 77.36848,69.85568 77.36848C69.51295999999999 77.36848,68.75408 77.14816,68.75408 76.02208L68.75408 73.94128L71.32448 73.94128C71.69167999999999 73.94128,71.86304 73.69648,71.86304 73.28032C71.86304 72.86416,71.71616 72.61936,71.32448 72.61936L68.75408 72.61936L68.75408 65.05504C68.75408 64.78576,68.7296 64.46752000000001,68.33792 64.46752000000001C68.01968 64.46752000000001,67.84832 64.54096,67.628 64.78576L64.27423999999999 68.82496C64.15183999999999 69.0208,63.956 69.21664,63.956 69.65728L63.956 72.61936L59.20688 72.61936C62.02208 70.22032,67.67696 62.215360000000004,67.77488 61.82368C67.77488 61.75024,67.79936 61.72576,67.79936 61.65232C67.79936 61.35856,67.55456 61.16272,67.28528 61.16272C66.96704 61.16272,65.52271999999999 61.21168,64.88624 61.21168C64.24976 61.21168,62.65856 61.16272,62.38928 61.16272C62.071039999999996 61.16272,61.58144 61.26064,61.58144 61.82368C61.58144 66.18112,58.10528 71.1016,57.05264 72.5704L56.8568 72.86416C56.8568 72.88864,56.80784 72.9376,56.80784 72.96208C56.7344 73.10896,56.70992 73.23136,56.70992 73.35376C56.70992 73.69648,56.9792 73.94128,57.41984 73.94128"></path><g class="vf-stavenote" id="vf-auto1585"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M94.33712 75L94.33712 40"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M83.15312 75M83.15312 76.6848C83.15312 78.7908,84.89408 80.0544,87.08432 80.0544C90.67856 80.0544,95.08712 76.74096,95.08712 73.3152C95.08712 71.23728,93.45848000000001 69.9456,91.15592000000001 69.9456C86.71928 69.9456,83.15312 73.23096,83.15312 76.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1593"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M161.6559333333333 65L161.6559333333333 30"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M150.4719333333333 65M150.4719333333333 66.6848C150.4719333333333 68.7908,152.2128933333333 70.0544,154.4031333333333 70.0544C157.99737333333331 70.0544,162.4059333333333 66.74096,162.4059333333333 63.3152C162.4059333333333 61.23728,160.77729333333332 59.9456,158.47473333333332 59.9456C154.0380933333333 59.9456,150.4719333333333 63.23096,150.4719333333333 66.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1601"><g class="vf-note" pointer-events="bounding-box"><g class="vf-stem" pointer-events="bounding-box"><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M228.97474666666665 60L228.97474666666665 25"></path></g><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M217.79074666666665 60M217.79074666666665 61.6848C217.79074666666665 63.7908,219.53170666666665 65.0544,221.72194666666664 65.0544C225.31618666666665 65.0544,229.72474666666665 61.74096,229.72474666666665 58.3152C229.72474666666665 56.23728,228.09610666666666 54.9456,225.79354666666666 54.9456C221.35690666666665 54.9456,217.79074666666665 58.23096,217.79074666666665 61.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1612"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M285.10956 70M285.10956 71.6848C285.10956 73.7908,286.85051999999996 75.0544,289.04076 75.0544C292.635 75.0544,297.04356 71.74096,297.04356 68.3152C297.04356 66.23728,295.41492 64.9456,293.11235999999997 64.9456C288.67572 64.9456,285.10956 68.23096,285.10956 71.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1622"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M352.4283733333333 80M352.4283733333333 81.6848C352.4283733333333 83.7908,354.16933333333327 85.0544,356.3595733333333 85.0544C359.9538133333333 85.0544,364.3623733333333 81.74096,364.3623733333333 78.3152C364.3623733333333 76.23728,362.7337333333333 74.9456,360.4311733333333 74.9456C355.9945333333333 74.9456,352.4283733333333 78.23096,352.4283733333333 81.6848"></path></g></g><g class="vf-modifiers"></g></g><g class="vf-stavenote" id="vf-auto1632"><g class="vf-note" pointer-events="bounding-box"><g class="vf-notehead" pointer-events="bounding-box"><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M419.7471866666666 70M419.7471866666666 71.6848C419.7471866666666 73.7908,421.4881466666666 75.0544,423.6783866666666 75.0544C427.2726266666666 75.0544,431.68118666666663 71.74096,431.68118666666663 68.3152C431.68118666666663 66.23728,430.0525466666666 64.9456,427.7499866666666 64.9456C423.31334666666663 64.9456,419.7471866666666 68.23096,419.7471866666666 71.6848"></path></g></g><g class="vf-modifiers"></g></g><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="78.15312" y="15" width="68.94565333333333" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="165.77909333333332" y="15" width="68.94565333333333" height="1"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="78.15312" y="15" width="1" height="10"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="234.72474666666665" y="15" width="1" height="10"></rect><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M152.09877333333333 14.333333333333332M152.55813333333333 17.548853333333334C152.60565333333332 19.32293333333333,154.22133333333332 20.019893333333332,156.45477333333332 20.05157333333333L156.6606933333333 20.05157333333333C158.92581333333334 20.05157333333333,161.23845333333333 18.895253333333333,161.23845333333333 16.88357333333333L161.23845333333333 16.72517333333333C161.20677333333333 16.05989333333333,161.03253333333333 15.632213333333333,160.60485333333332 15.125333333333332C160.46229333333332 14.951093333333333,160.28805333333332 14.792693333333332,160.06629333333333 14.650133333333333L159.57525333333334 14.380853333333333L158.83077333333333 14.174933333333332C158.71989333333332 14.143253333333332,158.64069333333333 14.143253333333332,158.59317333333334 14.064053333333332C158.5773333333333 14.016533333333332,158.5773333333333 13.984853333333332,158.5773333333333 13.953173333333332C158.5773333333333 13.858133333333333,158.59317333333334 13.763093333333332,158.67237333333333 13.747253333333331C158.92581333333334 13.668053333333333,159.16341333333332 13.652213333333332,159.36933333333332 13.541333333333332C160.28805333333332 13.097813333333333,160.76325333333332 12.511733333333332,160.76325333333332 11.466293333333333C160.76325333333332 9.359573333333332,157.91205333333332 8.741813333333333,156.96165333333332 8.678453333333332C156.85077333333334 8.678453333333332,156.72405333333333 8.646773333333332,156.61317333333332 8.646773333333332C154.64901333333333 8.646773333333332,152.68485333333334 9.961493333333333,152.68485333333334 11.165333333333333C152.68485333333334 11.909813333333332,153.12837333333331 12.923573333333332,154.53813333333332 13.002773333333332L154.64901333333333 13.002773333333332C155.66277333333332 13.002773333333332,156.15381333333332 12.274133333333332,156.15381333333332 11.529653333333332L156.15381333333332 11.339573333333332C156.09045333333333 10.500053333333332,155.52021333333332 10.452533333333331,155.40933333333334 10.405013333333333C155.29845333333333 10.357493333333332,154.94997333333333 10.405013333333333,154.94997333333333 10.088213333333332L154.94997333333333 9.993173333333331C154.99749333333332 9.613013333333331,155.71029333333334 9.422933333333333,155.90037333333333 9.422933333333333C157.84869333333333 9.422933333333333,158.02293333333333 10.642613333333333,158.02293333333333 11.181173333333332L158.02293333333333 11.339573333333332C158.02293333333333 13.034453333333332,156.67653333333334 13.699733333333333,155.25093333333334 13.763093333333332C155.01333333333332 13.778933333333333,154.69653333333332 13.905653333333332,154.69653333333332 14.143253333333332C154.69653333333332 14.428373333333331,155.09253333333334 14.428373333333331,155.26677333333333 14.428373333333331C157.89621333333332 14.428373333333331,158.1021333333333 16.20245333333333,158.1021333333333 16.50341333333333C158.1021333333333 18.911093333333334,156.86661333333333 19.196213333333333,156.35973333333334 19.196213333333333C156.28053333333332 19.196213333333333,156.18549333333334 19.16453333333333,156.15381333333332 19.16453333333333C155.97957333333332 19.148693333333334,155.5360533333333 19.148693333333334,155.52021333333332 18.800213333333332L155.52021333333332 18.68933333333333C155.52021333333332 18.18245333333333,156.02709333333334 17.849813333333334,156.04293333333334 17.18453333333333C156.04293333333334 16.234133333333332,155.3776533333333 15.537173333333332,154.39557333333332 15.537173333333332C154.31637333333333 15.537173333333332,154.23717333333332 15.537173333333332,154.15797333333333 15.568853333333331C153.76197333333332 15.632213333333333,153.33429333333333 15.853973333333332,153.04917333333333 16.154933333333332C152.66901333333334 16.50341333333333,152.55813333333333 17.04197333333333,152.55813333333333 17.548853333333334"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M359.2722133333333 24.333333333333336M359.7315733333333 27.548853333333337C359.7790933333333 29.322933333333335,361.3947733333333 30.019893333333336,363.6282133333333 30.051573333333337L363.8341333333333 30.051573333333337C366.0992533333333 30.051573333333337,368.4118933333333 28.895253333333336,368.4118933333333 26.883573333333334L368.4118933333333 26.725173333333338C368.3802133333333 26.059893333333335,368.2059733333333 25.632213333333336,367.7782933333333 25.125333333333337C367.6357333333333 24.951093333333336,367.4614933333333 24.792693333333336,367.2397333333333 24.650133333333336L366.7486933333333 24.380853333333334L366.0042133333333 24.174933333333335C365.8933333333333 24.143253333333337,365.8141333333333 24.143253333333337,365.7666133333333 24.064053333333337C365.7507733333333 24.016533333333335,365.7507733333333 23.984853333333337,365.7507733333333 23.953173333333336C365.7507733333333 23.858133333333335,365.7666133333333 23.763093333333337,365.8458133333333 23.747253333333337C366.0992533333333 23.668053333333336,366.3368533333333 23.652213333333336,366.5427733333333 23.541333333333334C367.4614933333333 23.097813333333335,367.9366933333333 22.511733333333336,367.9366933333333 21.466293333333336C367.9366933333333 19.359573333333337,365.0854933333333 18.741813333333337,364.1350933333333 18.678453333333337C364.0242133333333 18.678453333333337,363.8974933333333 18.646773333333336,363.7866133333333 18.646773333333336C361.82245333333327 18.646773333333336,359.8582933333333 19.961493333333337,359.8582933333333 21.165333333333336C359.8582933333333 21.909813333333336,360.3018133333333 22.923573333333337,361.7115733333333 23.002773333333337L361.82245333333327 23.002773333333337C362.8362133333333 23.002773333333337,363.3272533333333 22.274133333333335,363.3272533333333 21.529653333333336L363.3272533333333 21.339573333333334C363.2638933333333 20.500053333333337,362.6936533333333 20.452533333333335,362.5827733333333 20.405013333333336C362.4718933333333 20.357493333333338,362.1234133333333 20.405013333333336,362.1234133333333 20.088213333333336L362.1234133333333 19.993173333333335C362.1709333333333 19.613013333333335,362.8837333333333 19.422933333333336,363.0738133333333 19.422933333333336C365.0221333333333 19.422933333333336,365.19637333333327 20.642613333333337,365.19637333333327 21.181173333333337L365.19637333333327 21.339573333333334C365.19637333333327 23.034453333333335,363.8499733333333 23.699733333333334,362.4243733333333 23.763093333333337C362.1867733333333 23.778933333333335,361.8699733333333 23.905653333333337,361.8699733333333 24.143253333333337C361.8699733333333 24.428373333333337,362.2659733333333 24.428373333333337,362.4402133333333 24.428373333333337C365.0696533333333 24.428373333333337,365.2755733333333 26.202453333333334,365.2755733333333 26.503413333333334C365.2755733333333 28.911093333333334,364.0400533333333 29.196213333333336,363.5331733333333 29.196213333333336C363.4539733333333 29.196213333333336,363.3589333333333 29.164533333333335,363.3272533333333 29.164533333333335C363.1530133333333 29.148693333333334,362.7094933333333 29.148693333333334,362.6936533333333 28.800213333333335L362.6936533333333 28.689333333333337C362.6936533333333 28.182453333333335,363.2005333333333 27.849813333333337,363.2163733333333 27.184533333333334C363.2163733333333 26.234133333333336,362.5510933333333 25.537173333333335,361.5690133333333 25.537173333333335C361.4898133333333 25.537173333333335,361.4106133333333 25.537173333333335,361.3314133333333 25.568853333333337C360.9354133333333 25.632213333333336,360.5077333333333 25.853973333333336,360.2226133333333 26.154933333333336C359.8424533333333 26.503413333333334,359.7315733333333 27.041973333333335,359.7315733333333 27.548853333333337"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M296.29356 70L296.29356 35.75"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M363.6123733333333 80L363.6123733333333 35.75"></path><path stroke-width="1.5" fill="none" stroke="black" stroke-dasharray="none" d="M430.93118666666663 70L430.93118666666663 35.74999999999999"></path><path stroke-width="0.3" fill="black" stroke="none" stroke-dasharray="none" d="M295.54356 35L295.54356 40L431.18118666666663 39.99999999999999L431.18118666666663 34.99999999999999Z"></path><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="499" y="40" width="1" height="41"></rect><rect stroke-width="0.3" fill="black" stroke="black" stroke-dasharray="none" x="10" y="40" width="1" height="41"></rect></svg></div>';
    const actualTrimmed = el.shadowRoot.innerHTML.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');
    const expectedTrimmed = expected.replace(/\s/g, '').replace(/id="vf-auto(.*?)"/g, '');

    expect(actualTrimmed).to.equal(expectedTrimmed);
  });
});
